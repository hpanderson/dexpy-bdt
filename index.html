
<html>
<head>
		<meta charset="utf-8">
		<title>dexpy demo</title>
    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <link rel="stylesheet" href="reveal.js/css/theme/moon.css">
		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
</head>
<body>
<div class="reveal">
<div class="slides">

<section data-markdown>
	<textarea data-template>

## Design of Experiments in Python

Hank Anderson

[hank@statease.com](mailto:hank@statease.com)<br>
[https://github.com/hpanderson/dexpy-bdt](https://github.com/hpanderson/dexpy-bdt)

	</textarea>
</section>

<section data-markdown>
	<textarea data-template>

## Agenda

* What is Design of Experiments?
* Design an experiment with <strong>dexpy</strong> to improve the office coffee
* Measure the power of our experiment
* Model the taste test results using <strong>statsmodels</strong>
* Visualize the data with <strong>seaborn</strong> and <strong>matplotlib</strong> to find the best pot of coffee

	</textarea>
</section>

<section>
  <section>

    <h2>What is Design of Experiments (DoE)?</h2>
    <p>A systematic series of tests, in which purposeful changes are made to input factors, so that you may identify causes for significant changes in the output responses.</p>
    <!--<p>NIST has a <a href="http://www.itl.nist.gov/div898/handbook/pri/section1/pri1.htm">nice primer on DOE</a>.</p>-->

		<!-- graphviz digraph -->
		<svg width="628pt" height="98pt" viewBox="0.00 0.00 628.06 98.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 94)">
		<title>%3</title>
		<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-94 624.0586,-94 624.0586,4 -4,4"/>
		<!-- X -->
		<g id="node1" class="node">
		<title>X</title>
		<polygon fill="#3cb371" stroke="#3cb371" points="216,-90 0,-90 0,-54 216,-54 216,-90"/>
		<text text-anchor="middle" x="108" y="-66" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#000000">Controllable Factors</text>
		</g>
		<!-- P -->
		<g id="node3" class="node">
		<title>P</title>
		<polygon fill="#add8e6" stroke="#add8e6" points="468,-90 252,-90 252,0 468,0 468,-90"/>
		<text text-anchor="middle" x="360" y="-39" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#000000">Process</text>
		</g>
		<!-- X&#45;&gt;P -->
		<g id="edge1" class="edge">
		<title>X&#45;&gt;P</title>
		<path fill="none" stroke="#000000" d="M167.4014,-53.9751C189.6892,-50.2264 215.8784,-46.8146 241.6402,-44.2035"/>
		<polygon fill="#000000" stroke="#000000" points="242.2531,-47.6604 251.8666,-43.2071 241.5742,-40.6934 242.2531,-47.6604"/>
		</g>
		<!-- X&#45;&gt;P -->
		<g id="edge4" class="edge">
		<title>X&#45;&gt;P</title>
		<path fill="none" stroke="#000000" d="M216.3332,-60.3929C224.7707,-59.4889 233.316,-58.5733 241.8138,-57.6628"/>
		<polygon fill="#000000" stroke="#000000" points="242.1881,-61.1428 251.7583,-56.5973 241.4423,-54.1827 242.1881,-61.1428"/>
		</g>
		<!-- X&#45;&gt;P -->
		<g id="edge7" class="edge">
		<title>X&#45;&gt;P</title>
		<path fill="none" stroke="#000000" d="M216.3332,-73.7742C224.7707,-72.9842 233.316,-72.1005 241.8138,-71.1397"/>
		<polygon fill="#000000" stroke="#000000" points="242.2322,-74.6147 251.7583,-69.9774 241.4196,-67.662 242.2322,-74.6147"/>
		</g>
		<!-- Z -->
		<g id="node2" class="node">
		<title>Z</title>
		<polygon fill="#ee6363" stroke="#ee6363" points="216,-36 0,-36 0,0 216,0 216,-36"/>
		<text text-anchor="middle" x="108" y="-12" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#000000">Noise Factors</text>
		</g>
		<!-- Z&#45;&gt;P -->
		<g id="edge2" class="edge">
		<title>Z&#45;&gt;P</title>
		<path fill="none" stroke="#000000" d="M216.3332,-16.2258C224.7707,-17.0158 233.316,-17.8995 241.8138,-18.8603"/>
		<polygon fill="#000000" stroke="#000000" points="241.4196,-22.338 251.7583,-20.0226 242.2322,-15.3853 241.4196,-22.338"/>
		</g>
		<!-- Z&#45;&gt;P -->
		<g id="edge5" class="edge">
		<title>Z&#45;&gt;P</title>
		<path fill="none" stroke="#000000" d="M216.3332,-29.6071C224.7707,-30.5111 233.316,-31.4267 241.8138,-32.3372"/>
		<polygon fill="#000000" stroke="#000000" points="241.4423,-35.8173 251.7583,-33.4027 242.1881,-28.8572 241.4423,-35.8173"/>
		</g>
		<!-- Z&#45;&gt;P -->
		<g id="edge8" class="edge">
		<title>Z&#45;&gt;P</title>
		<path fill="none" stroke="#000000" d="M167.4014,-36.0249C189.6892,-39.7736 215.8784,-43.1854 241.6402,-45.7965"/>
		<polygon fill="#000000" stroke="#000000" points="241.5742,-49.3066 251.8666,-46.7929 242.2531,-42.3396 241.5742,-49.3066"/>
		</g>
		<!-- Y -->
		<g id="node4" class="node">
		<title>Y</title>
		<polygon fill="#add8e6" stroke="#add8e6" points="620.0879,-63 503.9707,-63 503.9707,-27 620.0879,-27 620.0879,-63"/>
		<text text-anchor="middle" x="562.0293" y="-39" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#000000">Responses</text>
		</g>
		<!-- P&#45;&gt;Y -->
		<g id="edge3" class="edge">
		<title>P&#45;&gt;Y</title>
		<path fill="none" stroke="#000000" d="M468.112,-31.5297C476.7534,-31.602 485.3252,-31.8066 493.5727,-32.1436"/>
		<polygon fill="#000000" stroke="#000000" points="493.6691,-35.6523 503.827,-32.6412 494.0084,-28.6605 493.6691,-35.6523"/>
		</g>
		<!-- P&#45;&gt;Y -->
		<g id="edge6" class="edge">
		<title>P&#45;&gt;Y</title>
		<path fill="none" stroke="#000000" d="M468.112,-45C476.7534,-45 485.3252,-45 493.5727,-45"/>
		<polygon fill="#000000" stroke="#000000" points="493.827,-48.5001 503.827,-45 493.827,-41.5001 493.827,-48.5001"/>
		</g>
		<!-- P&#45;&gt;Y -->
		<g id="edge9" class="edge">
		<title>P&#45;&gt;Y</title>
		<path fill="none" stroke="#000000" d="M468.112,-58.4703C476.7534,-58.398 485.3252,-58.1934 493.5727,-57.8564"/>
		<polygon fill="#000000" stroke="#000000" points="494.0084,-61.3395 503.827,-57.3588 493.6691,-54.3477 494.0084,-61.3395"/>
		</g>
		</g>
		</svg>

  </section>

  <section>

    <h2>History of DOE</h2>
		<img style="float: left;" src="img/fisher.jpg">
    R.A. Fisher<br>
    <ul>
      <li>1919 - Rothamsted Experimental Station</li>
      <li>ANOVA, F-test, null hypothesis</li>
      <li>1935 - The Design of Experiments</li>
      <li>"The Lady Tasting Tea" experiment</li>
    </ul>

  </section>

</section>

<section>
  <section>
    <h1>"Purposeful Changes"</h1>
    <p class="fragment">Correlation != Causation</p>
    <p class="fragment">
      <img src="img/correlation.png"><br>
      <small style="font-size:8;">(http://tylervigen.com/view_correlation?id=97)</small>
    </p>
  </section>
  <section>
    <img src="img/tinfoil_coffee.png">
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
## What Is It For?

* **Screening Experiments** - Determining which inputs to your system are important
* **Modeling a Process** - Gain a better understanding of your system
* **Optimization** - Find the combination of inputs that results in a better output
* **Robustness** - Find a combination of inputs that produces a consistent result
    </textarea>
  </section>

  <section data-markdown>
    <textarea data-template>
## Examples
* A/B testing of a website
* Allocating marketing budget resources
* Microwave popcorn
    </textarea>
  </section>
</section>

<section data-markdown>
  <textarea data-template>
## DoE in Python: dexpy

* Based on Design-Expert<sup>&reg;</sup> software, a package for design and analysis of industrial experiments
* Apache2 licensed, pure python (for now), available on pypi
* Other alternatives are:
   * [pyDOE](https://github.com/tisimst/pyDOE) (not actively maintained)
   * R [???](https://cran.r-project.org/web/views/ExperimentalDesign.html)
   * [SciDOE](https://forge.scilab.org/index.php/p/scidoe/)
   * [gosset](http://neilsloane.com/gosset/)
   * Proprietary software ($$$) - [Design-Expert](https://www.statease.com), [JMP](https://www.jmp.com), [Minitab](https://www.minitab.com)
  </textarea>
</section>

<section>
	<section data-markdown>
		<textarea data-template>
## Motivating Example: Better Office Coffee

 * Current coffee is subpar ("disgusting and unacceptable")
 * Need to answer the following questions via experimentation:
  * What coffee beans to use?
  * How much coffee to use?
  * How to grind the coffee?
		</textarea>
	</section>

	<section data-markdown>
		<textarea data-template>
## Motivating Example: Better Office Coffee

 * 5 input factors
  * Amount of Coffee (2.5 to 4.0 oz.)
  * Grind size (8-10mm)
  * Brew time (3.5 to 4.5 minutes)
  * Grind Type (burr vs blade)
  * Coffee beans (light vs dark)
 * 1 response: Average overall liking by a panel of 5 office coffee addicts
  * Each taster rates the coffee from 1-9
 * Maximum of 3 taste tests a day, for liability reasons
		</textarea>
	</section>
</section>

<section>
	<section>

		<h3>One Factor at a Time Experimentation</h3>

		<ul>
			<li>Hold all inputs constant, then change one at a time</li>
			<li>Cannot detect interactions, e.g. grind size and amount of coffee have a synergistic relationship</li>
			<li>Inefficient</li>
    </ul>
  </section>

  <section>
    <img src="img/ofat.svg">
	</section>
</section>


</div>
</div>
<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.js"></script>
<script>
	Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: true,

			transition: 'slide', // none/fade/slide/convex/concave/zoom

			// Optional reveal.js plugins
			dependencies: [
					{ src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
					{ src: 'reveal.js/plugin/notes/notes.js', async: true }
			]
	});
</script>
</body>
</html>
